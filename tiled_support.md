# Tiled support

[Video example](https://www.youtube.com/watch?v=hVCmLqZ0JVw)

Support for maps built with Tiled using the extension .json.

- [x] Multi TileLayer
- [x] Multi ObjectLayer
- [x] TileSet
- [x] Tile Animated
- [x] Load Map from URL
- [x] Text
- [x] Image Layer

Collision
   - [x] MultiCollision
   - [x] Retangle Collision
   - [x] Circle Collision
   - [x] Polygon Collision
   - [ ] Point Collision


## Using

Add the files generated by Tiled to the project by following the base: `assets/images/`

```yaml
flutter:
  assets:
    - assets/images/tiled/map.json
    - assets/images/tiled/tile_set.json
    - assets/images/tiled/img_tile_set.png
```

For maps built with Tiled we must use the Widget `BonfireTiledWidget` (example [here](https://bonfire-engine.github.io/#/get-started?id=creating-your-map)):

```dart
TiledWorldMap map = TiledWorldMap(
    'tiled/mapa.json', // main file path or url (example: http://rafaelbarbosatec.github.io/tiled/my_map.json)
    forceTileSize: DungeonMap.tileSize, // if you want to force the size of the Tile to be larger or smaller than the original
    objectsBuilder: {
        'goblin': (TiledObjectProperties properties) => Goblin(properties.position),
        'torch': (TiledObjectProperties properties) => Torch(properties.position),
        'barrel': (TiledObjectProperties properties) => BarrelDraggable(properties.position,),
    },
  );

return BonfireTiledWidget(
      joystick: Joystick(
        directional: JoystickDirectional(
          size: 100,
          isFixed: false,
        ),
      map: map,
      lightingColorGame: Colors.black.withOpacity(0.5),
    );
```

## Tiled map example

If you want the Tile to be drawn above the player add type: `above` in your tileSet.

![](_media/print_exemplo_tiled.png)

Result:

![](_media/print_result_tiled.png)


## Useful

You can set type in your tile to `above` to render this tile above all components in your game.

You can set type in your Object to `collision`. This object will be add in the game with transparency and collision.